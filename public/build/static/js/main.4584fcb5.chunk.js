(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){e.exports=n(227)},109:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},223:function(e,t,n){},227:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(39),o=n.n(c),i=(n(70),n(2)),l=n(3),s=n(5),u=n(4),m=n(6),d=n(9),p=n(228),f=(n(109),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"links"},r.a.createElement("div",{className:"nav-links"},r.a.createElement(p.a,{to:"/",className:"navlink"},"Home"),r.a.createElement(p.a,{to:"/register",className:"navlink"},"Register"),r.a.createElement(p.a,{to:"/login",className:"navlink"},"Log In"),r.a.createElement(p.a,{to:"/profile",className:"navlink"},this.props.username)))}}]),t}(r.a.Component)),h=Object(d.b)(function(e){return{username:e.username}})(f),b=(n(111),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"logo"},r.a.createElement(p.a,{to:"/",className:"logo-link"},"YMDB: Your Movie Database")),r.a.createElement(h,null))}}]),t}(r.a.Component));n(112);var E=function(e){return r.a.createElement("div",{className:"home-container"},r.a.createElement(b,null),r.a.createElement("div",{className:"home"},r.a.createElement("h1",null,"Landing Page, coming soon...")))},v=(n(113),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"**Comment Column**")}}]),t}(r.a.Component)),O=(n(114),"SET_DESCRIPT"),j="CLEAR_SEARCH_TEXT",y="SET_MOVIE_LIST",g="ADD_TO_LIST",A="CLEAR_SEARCH_RESULTS",N="REORDER_LIST",T="DELETE_MOVIE",w="DELETE_LIST",C=function(){return function(e,t){var n=t().username;console.log("username",n),fetch("/".concat(n,"/list")).then(function(e){return e.json()}).then(function(t){console.log("username",n),console.log("data",t),e(S(t))}).catch(function(e){return console.error(e)})}},S=function(e){return{type:y,payload:{data:e}}},k=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentWillMount=function(){n.props.fetchList()},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"description"},r.a.createElement("textarea",{className:"textarea",name:"description",id:"",cols:"80",rows:"20",placeholder:"Write your description here...",onChange:function(t){return e.props.setDescript(t.target.value)},value:this.props.listDescript}))}}]),t}(a.Component),D=Object(d.b)(function(e){return{listDescript:e.listDescript}},function(e){return{fetchList:function(t){return e(C())},setDescript:function(t){return e(function(e){return{type:O,payload:{text:e}}}(t))}}})(k),x=(n(115),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSave=function(){console.log("saving..."),fetch("/list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.props.state)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},n.handleChange=function(){fetch("/:user/update",{method:"PUT"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},n.handleDelete=function(){n.props.deleteList(),console.log("deleting...");var e=n.props.state.username;return fetch("/".concat(e,"/delete"),{method:"DELETE"}).then(function(e){return e}).catch(function(e){return console.error(e)})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"save-delete"},r.a.createElement("button",{c:!0,className:"delete-list",onClick:function(){return e.handleDelete()}},"Delete"),r.a.createElement("button",{className:"save-list",onClick:function(){return e.handleSave()}},"Save"))}}]),t}(a.Component)),L=Object(d.b)(function(e){return{state:e}},function(e){return{deleteList:function(){return e({type:w})}}})(x),I=n(27),R=n(68),_=(n(116),n(95)),U=n.n(_),M=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentWillMount=function(){n.props.fetchList()},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){console.log("props",this.props);var e=this.props,t=e.list,n=e.orderList,a=e.deleteMovie,c=Object(I.sortableHandle)(function(){return r.a.createElement("div",{className:"grip-container"},r.a.createElement("img",{alt:"grip handle",style:{width:".4rem"},src:U.a}))}),o=Object(I.sortableElement)(function(e){var t=e.movie,n=e.sortIndex;return r.a.createElement("div",{key:t.id,className:"movie-item"},r.a.createElement("div",{className:"grip"},r.a.createElement(c,null)),r.a.createElement("div",{className:"numbers"},n+1," |"),r.a.createElement("div",{className:"movie-info"},r.a.createElement("div",{style:{fontSize:"20px"}},r.a.createElement(R.a,{to:{pathname:"/movie",state:{movie:t}},className:"movie-link"},t.name)),r.a.createElement("div",{className:"dir-year"},t.director,", ",t.year)),r.a.createElement("button",{onClick:function(){return a(t)},className:"delete"},"\u2715"))}),i=Object(I.sortableContainer)(function(e){var t=e.items;return r.a.createElement("div",{className:"list-row"},t.map(function(e,t){return console.log("movie1",e),r.a.createElement(o,{className:"sortable-item",key:"item-".concat(e.id),sortIndex:t,index:t,movie:e})}))});return r.a.createElement("div",{className:"list-container"},r.a.createElement(i,{helperClass:"sortableHelper",items:t,useDragHandle:!0,onSortEnd:n,transitionDuration:"300",lockAxis:"y"}))}}]),t}(a.Component),Y=Object(d.b)(function(e){return{list:e.list,username:e.username}},function(e){return{setList:function(){return e(S())},fetchList:function(t){return e(C())},orderList:function(t){var n=t.oldIndex,a=t.newIndex;return e(function(e,t){return{type:N,payload:{oldIndex:e,newIndex:t}}}(n,a))},deleteMovie:function(t){return e(function(e){return{type:T,payload:{movie:e}}}(t))}}})(M),K=(n(117),n(96)),P=n.n(K),B=function(e,t,n){var a;return function(){var r=this,c=arguments,o=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||e.apply(r,c)},t),o&&e.apply(r,c)}},H=n(97),J=n.n(H),X=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={searchText:"",searchResults:[]},n.inputStyle={fontSize:22,display:"block",paddingLeft:16,margin:"auto",marginTop:20,width:"40%"},n.renderResults=function(){var e=n.state.searchResults;if(e)return e.map(function(e){return r.a.createElement("div",{key:e.imdbId,className:"result-item",onClick:function(){return n.handleAdd(e)}},r.a.createElement("div",{className:"result-info"},r.a.createElement("div",{style:{fontSize:"15px"}},e.Title," (",e.Year,")")))})},n.handleAdd=function(e){var t=n.props,a=t.apiKey,r=t.addToList;fetch("http://www.omdbapi.com/?i=".concat(e.imdbID,"&apikey=").concat(a)).then(function(e){return e.json()}).then(function(t){r({name:e.Title,year:e.Year,director:t.Director,id:t.imdbID,runtime:t.Runtime,country:t.Country,plot:t.Plot,language:t.Language}),n.clearResults(),n.clearSearchText()})},n.handleSearch=function(e){var t=n.state.searchText,a=n.props.apiKey;fetch("http://www.omdbapi.com/?s=".concat(t.trim(),"&apikey=").concat(a,"&page=").concat(e)).then(function(e){return e.json()}).then(function(e){n.setState({searchResults:e.Search})}).catch(function(e){return console.error(e)})},n.onTextChange=function(e){n.setState({searchText:e.target.value}),n.handleDelay()},n.handleDelay=B(n.handleSearch,300),n.clearResults=function(){n.setState({searchResults:[]})},n.clearSearchText=function(){n.setState({searchText:""})},n.onKeyUp=function(e){if("Enter"===e.key){[1,2].map(function(e){return n.handleSearch(e)})}},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Search"},r.a.createElement(J.a,null,r.a.createElement(P.a,{name:"searchText",value:this.state.searchText,onChange:this.onTextChange,onKeyUp:this.onKeyUp,floatingLabelText:"Search For Films",style:{width:"36rem"}})),r.a.createElement("div",null,this.renderResults()))}}]),t}(r.a.Component),V=Object(d.b)(function(e){return{list:e.list,apiKey:e.apiKey}},function(e){return{addToList:function(t){return e(function(e){return{type:g,payload:{movie:e}}}(t))}}})(X),F=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"profile-wrapper"},r.a.createElement(b,null),r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"left"},r.a.createElement(L,null),r.a.createElement(V,{add:this.handleAdd}),r.a.createElement(Y,null),r.a.createElement(D,null)),r.a.createElement("div",{className:"right"},r.a.createElement(v,{className:"comments"}))))}}]),t}(a.Component),W=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login"},"Login Component")}}]),t}(a.Component),z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"register"},"Register component")}}]),t}(a.Component),Q=(n(223),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.location.state.movie;return console.log("movie obj",e),r.a.createElement("div",{className:"MoviePage"},r.a.createElement("h1",null,e.name),r.a.createElement("h2",null,e.director,", ",e.year),r.a.createElement("div",null,e.year," ",r.a.createElement("br",null),e.country," ",r.a.createElement("br",null),e.language," ",r.a.createElement("br",null),e.runtime),r.a.createElement("p",null,e.plot))}}]),t}(r.a.Component)),G=Object(d.b)(function(e){return{}})(Q),q=n(229),Z=n(231),$=n(99),ee=n(230),te=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.loggedIn;return r.a.createElement(q.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(Z.a,null,r.a.createElement($.a,{exact:!0,path:"/home",render:function(){return e?r.a.createElement(ee.a,{to:"/home"}):r.a.createElement(W,null)}}),r.a.createElement($.a,{exact:!0,path:"/login",component:W}),r.a.createElement($.a,{exact:!0,path:"/register",component:z}),r.a.createElement($.a,{exact:!0,path:"/profile",component:F,render:function(){return e?r.a.createElement(ee.a,{to:"/profile"}):r.a.createElement(W,null)}}),r.a.createElement($.a,{path:"/movie",component:G}),r.a.createElement($.a,{exact:!0,path:"/",component:E}))))}}]),t}(a.Component),ne=Object(d.b)(function(e){return{loggedIn:e.loggedIn}})(te),ae=n(26),re=n(98),ce=n(43),oe=n(13),ie=n(42),le={loggedIn:!0,apiKey:ie.apiKey,dbuser:ie.dbuser,dbpassword:ie.dbpassword,searchResults:[],listDescript:"",username:"kesto",list:[]};n(224).config();var se=Object(ae.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case O:return Object(oe.a)({},e,{listDescript:a.text});case j:return Object(oe.a)({},e,{searchText:[]});case y:return Object(oe.a)({},e,{username:a.data.username,listDescript:a.data.listDescript,list:Object(ce.a)(a.data.list)});case g:return Object(oe.a)({},e,{list:[].concat(Object(ce.a)(e.list),[a.movie])});case A:return Object(oe.a)({},e,{searchResults:[]});case N:return Object(oe.a)({},e,{list:Object(I.arrayMove)(e.list,a.oldIndex,a.newIndex)});case T:return Object(oe.a)({},e,{list:Object(ce.a)(e.list.filter(function(e){return e.id!==a.movie.id}))});case w:return Object(oe.a)({},e,{list:[]});default:return e}},Object(ae.c)(Object(ae.a)(re.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(r.a.createElement(d.a,{store:se},r.a.createElement(ne,null)),document.getElementById("root"))},42:function(e,t){e.exports={apiKey:"d5d74a24&",dbuser:"kesto",dbpassword:"password1"}},70:function(e,t,n){},95:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAOCAYAAADnqNYmAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIYFCIIh7tYjAAAACZJREFUGNNjYGBg+M/AwPD/////DDA2EwMWwAhVgQKwqmQYdmYCAPN0JO0ozU3YAAAAAElFTkSuQmCC"}},[[100,1,2]]]);
//# sourceMappingURL=main.4584fcb5.chunk.js.map